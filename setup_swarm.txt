# create a swarm

# ssh into 1st instance, change its hostname
hostname manager1

# start a swarm
docker swarm init --advertise-addr <floating-ip-address>

# get add node token
docker swarm join-token worker

# ssh into 2nd instance, change its hostname
hostname worker1

# add a node, for example
docker swarm join \
    --token SWMTKN-1-49nj1cmql0jkz5s954yi3oex3nedyz0fb0xx14ie39trti4wxv-8vxv8rssmk743ojnwacrr2e7c \
    192.168.99.100:2377

# ssh into 3rd instance, change its hostname
hostname worker2

# add a node

# start the registry as a service on your swarm:
docker service create --name bencher --publish published=5000,target=5000 benchop:2

# check its status
docker service ls

# clone bench project from GitHub
git clone 'https://github.com/jlliao/benchop'

# deploy on the swarm
docker stack deploy --compose-file docker-compose.yml benchop




